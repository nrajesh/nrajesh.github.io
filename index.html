<!DOCTYPE html>
<html>
<head>
  <title>Resume - Rajesh Narayanan</title>
</head>
<body>
  <label for="theme" style="font-size: 0.8em; padding: 1px 1px;"><b>Select Theme:</b></label>&nbsp;&nbsp;
  <select id="theme" style="width: 150px; height: 48px; font-size: 0.8em; padding: 1px 1px;" onchange="updateResume()"></select>&nbsp;&nbsp;
  <br><br>
  <div style="width: 100vw; height: 100vh;">
    <iframe id="resumeFrame" style="width: 100%; height: 100%; border: none"></iframe>
  </div>

  <script>
    const themes = [
      { value: "government-standard", label: "Standard" },
      { value: "californian-warm", label: "Californian Warm" },
      { value: "community-garden", label: "Community Garden" },
      { value: "consultant-polished", label: "Consultant Polished" },
      { value: "data-driven", label: "Data Driven" },
      { value: "developer-mono", label: "Developer Mono" },
      { value: "elegant", label: "Elegant" },
      { value: "french-atelier", label: "French Atelier" },
      { value: "london-bureau", label: "London Bureau" },
      { value: "marketing-narrative", label: "Narrative" },
      { value: "new-york-editorial", label: "NY Editorial" },
      { value: "nordic-minimal", label: "Nordic Minimal" },
      { value: "operations-precision", label: "Operations Precision" },
      { value: "product-manager-canvas", label: "PM Canvas" },
      { value: "professional", label: "Professional" },
      { value: "sales-hunter", label: "Sales Hunter" },
      { value: "stackoverflow", label: "Stack Overflow" },
      { value: "tokyo-modernist", label: "Tokyo Modernist" },
      { value: "two-column-modernist", label: "Two Column" },
      { value: "urban-techno", label: "Urban Techno" },
      { value: "writers-portfolio", label: "Writer's Portfolio" }
    ];

    const selectElement = document.getElementById('theme');

    themes.forEach(theme => {
      const option = document.createElement('option');
      option.value = theme.value;
      option.textContent = theme.label;
      selectElement.appendChild(option);
    });

    function updateResume() {
      var theme = document.getElementById('theme').value;
      var username = 'nrajesh'; // Replace with your username
      var url = 'https://registry.jsonresume.org/' + username + '?theme=' + theme;
      document.getElementById('resumeFrame').src = url;
    }
    // Optionally, load default on page load
    updateResume();
  
    function printResume() {
      const iframe = document.getElementById('resumeFrame');
      if (!iframe) {
        alert('Resume iframe not found!');
        return;
      }
      // For security reasons, this only works if the iframe's src is from the same origin
      const iframeWindow = iframe.contentWindow;
      if (!iframeWindow) {
        alert('Cannot access iframe contents.');
        return;
      }
      iframeWindow.focus();
      iframeWindow.print();
    }
</script>
</body>
</html>
